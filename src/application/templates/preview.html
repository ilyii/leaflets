{% extends "base.html" %}

{% block content %}
<div class="card preview-card">
    <h2>Prospekt-Vorschau</h2>
    <div class="navigation">
        <button id="prevBtn" class="btn">&#8678; Zur√ºck</button>
        <span id="pageIndicator">Seite ? von ?</span>
        <button id="nextBtn" class="btn">Weiter &#8680;</button>
    </div>
    <div class="preview-container">
        <img id="pageImage" />
        <canvas id="overlayCanvas"></canvas>
    </div>
</div>

<!-- Modal -->
<div id="modal" class="modal" style="display:none;">
    <div class="modal-content">
        <span id="closeModal" class="close">&times;</span>
        <h2 id="modalTitle">Details</h2>
        <p id="modalText"></p>
        <!-- Container for the cropped deal image and extracted metadata -->
        <div id="dealCropContainer"></div>
    </div>
</div>

<script>
    let sessionId = "{{ session_id }}";
</script>
<script src="/static/js/preview.js"></script>
{% endblock %}